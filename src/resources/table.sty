\RequirePackage{graphicx}

\ExplSyntaxOn
\NewDocumentCommand{\graphics}{ >{ \SplitList {,} } m }
 {
  \begin{figure}[!htb]
  \centering
  \ProcessList { #1 } { \davs__twoimages_row:n }
  \vspace{-\bigskipamount}
  \end{figure}
 }
\cs_new_protected:Nn \davs__twoimages_row:n
 {
  \davs__twoimages_row:nnnnnn #1
 }
\cs_new_protected:Nn \davs__twoimages_row:nnnnnn
 {
  \davs__twoimages_do:nnn { #1 } { #2 } { #3 } 
  \hfill
  \davs__twoimages_do:nnn { #4 } { #5 } { #6 }
  \\[\bigskipamount]
 }
\cs_new_protected:Nn \davs__twoimages_do:nnn
 {
  \begin{minipage}{0.49\linewidth}
    \centering
    \includegraphics[width=#3\linewidth]{#1}
    \caption{#2}\label{ris:#1}
  \end{minipage}
 }
\ExplSyntaxOff
